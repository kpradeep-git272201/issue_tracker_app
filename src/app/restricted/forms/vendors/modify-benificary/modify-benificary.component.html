<div class="container mt-3">
  <h4>Manage Agency Details</h4>

  <!-- <div class="d-flex justify-content-between mb-2">
    <div>
      Show
      <select [(ngModel)]="entriesPerPage" (change)="updateTable()" class="form-select d-inline w-auto">
        <option *ngFor="let size of [10, 20, 50]" [value]="size">{{ size }}</option>
      </select>
      entries
    </div>
    <div>
      Search:
      <input [(ngModel)]="searchText" (input)="updateTable()" class="form-control d-inline w-auto" />
    </div>
  </div> -->

  <table class="table table-bordered text-center">
    <thead class="table-primary">
      <tr>
        <th rowspan="2">S.No.</th>
        <th rowspan="2">Label/Agency Detail</th>
        <th colspan="3">Action</th>
      </tr>
      <tr>
        <th>View</th>
        <th>Modify</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let agency of paginatedAgencies; index as i">
        <td>{{ currentPage * entriesPerPage + i + 1 }}</td>
        <td>{{ agency.name }}</td>
        <td>
          <button class="btn btn-link p-0"><i class="bi bi-eye"></i></button>
        </td>
        <td>
          <button class="btn btn-link p-0"><i class="bi bi-pencil"></i></button>
        </td>
        <td>
          <button class="btn btn-link p-0"><i class="bi bi-trash"></i></button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between align-items-center">
   
<div class="custom-footer">
      <div class="rows-dropdown-wrapper">
        <mat-form-field appearance="outline" class="page-size-field" style="width: 100px;">
          <mat-label>Page</mat-label>
          <mat-select [value]="entriesPerPage" (selectionChange)="onPageSizeChange($event.value)">
            <mat-option *ngFor="let size of [5, 10, 20, 50]" [value]="size">{{ size }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Pagination Controls -->
      <div class="pagination-controls">
        <button 
          mat-icon-button 
          (click)="changePage(currentPage - 1)"
           [class.disabled]="currentPage === 0">
          <mat-icon>skip_previous</mat-icon>
        </button>

        <ng-container *ngIf="pages.length > 0">
          <button
            class="page-btn"
            *ngFor="let page of pages"
             [class.active]="page === currentPage"
            (click)="changePage(page)">
            {{ page }}
          </button>
        </ng-container>

        <button 
          mat-icon-button 
          (click)="changePage(currentPage + 1)" 
          [class.disabled]="currentPage === totalPages - 1">
          <mat-icon>skip_next</mat-icon>
        </button>
      </div>
    </div>
    <!-- <nav>
      <ul class="pagination mb-0">
        <li class="page-item" [class.disabled]="currentPage === 0">
          <a class="page-link" (click)="changePage(currentPage - 1)">Previous</a>
        </li>
        <li class="page-item" *ngFor="let page of pages" [class.active]="page === currentPage">
          <a class="page-link" (click)="changePage(page)">{{ page + 1 }}</a>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages - 1">
          <a class="page-link" (click)="changePage(currentPage + 1)">Next</a>
        </li>
      </ul>
    </nav> -->
  </div>
</div>
